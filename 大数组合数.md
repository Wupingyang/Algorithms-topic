# 大数组合数：

组合数的计算公式主要有三种变形：

1. 原始计算公式：$\mathrm{C}_n^m=\frac{m!}{n!(n-m)!}$

2. 化简计算公式：$\mathrm{C}_n^m=\frac{n(n-1)(n-2)\cdots(n-m+1)}{m!}$

3. 迭代计算公式：$\mathrm{C}_{n}^{m}=\mathrm{C}_{n-1}^{m-1} + \mathrm{C}_{n-1}^{m}$

## 解决方案：

### 1. 暴力求解法：

根绝化简后的计算公式，先计算$n(n-1)(n-2)\cdots(n-m+1)$的乘积，然后分别除以$[1, m]$内的每一个数，避免了计算$m!$。

**参考代码**：

```c++
int Combination(int n, int m){
    int ans;
    for(int i=n;i>=n-m+1;--i){
        ans *= i;
    }
    while(m){
        ans /= m--;
    }
    return ans;
}
```

### 2. 打表方法：

根据迭代计算公式，可以预先生成所有用到的组合数，使用时直接查表即可。

生成组合数时复杂度为$O(n^2)$，但是查询复杂度仅为$O(1)$。

这种方法基本能够处理10000以内的组合数。

**参考代码**：

```c++
const int maxn = 10010;
int c[maxn][maxn]={0};

void initial(){
    for(int i=0;i<maxn;++i){
        c[0][i] = 0;
        c[i][0] = 1;
    }
    for(int i=1;i<maxn;++i){
        for(int j=1;j<maxn;++j){
            c[i][j] = c[i-1][j-1] + c[i-1][j];
        }
    }
}

int combination(int n, int m){
    return c[n][m];
}
```

### 3. 质因数分解



